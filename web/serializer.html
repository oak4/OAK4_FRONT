<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serialize</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <nav>
        <a href="index.jsp" id="home">Home</a>
        <a href="serializer.html" class="current_link">Serialize</a>
        <a href="">Categorie 1</a>
        <a href="">Categorie 2</a>
    </nav>
    <main>
        <form id="form">
        <input name='nume' placeholder='nume'>
        <input name='prenume' placeholder='prenume'>
        <button type='submit'>Serializeaza</button>
    </form>
    <div id="resultJS"></div>
    <div id="resultXML"></div>
    </main>
    
    <script>
        function mySubmit(ev) {
            var js = {};
            resultXML.textContent= "<user>";
            Array.from(form.childNodes)
                .filter(x => x['tagName'] == 'INPUT')
                .forEach(x => {
                    js[x.name] = x.value;
                    resultXML.textContent+= `
                            <${x.name}>
                                ${x.value}
                            </${x.name}>`
                });
            resultXML.textContent+= "\n</user>";
            resultJS.textContent = JSON.stringify(js);
            ev.preventDefault();
        }
        const resultJS = document.getElementById("resultJS");
        const resultXML = document.getElementById("resultXML");
        const form = document.getElementById("form");
        form.addEventListener('submit', mySubmit);
    </script>
</body>

</html>